{
	"info": {
		"_postman_id": "happyrobot-challenge-collection",
		"name": "HappyRobot Challenge API",
		"description": "Colección de endpoints para el desafío de HappyRobot - Inbound Carrier Sales",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Verify MC",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Authorization",
						"value": "Bearer {{api_key}}",
						"type": "text"
					},
					{
						"key": "Content-Type",
						"value": "application/json",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"mc_number\": \"123456\"\n}"
				},
				"url": {
					"raw": "{{base_url}}/api/verify-mc",
					"host": ["{{base_url}}"],
					"path": ["api", "verify-mc"]
				}
			}
		},
		{
			"name": "Search Loads - By Equipment",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Authorization",
						"value": "Bearer {{api_key}}",
						"type": "text"
					},
					{
						"key": "Content-Type",
						"value": "application/json",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"equipment_type\": \"dry_van\"\n}"
				},
				"url": {
					"raw": "{{base_url}}/api/loads/search",
					"host": ["{{base_url}}"],
					"path": ["api", "loads", "search"]
				}
			}
		},
		{
			"name": "Search Loads - Full Criteria",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Authorization",
						"value": "Bearer {{api_key}}",
						"type": "text"
					},
					{
						"key": "Content-Type",
						"value": "application/json",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"equipment_type\": \"dry_van\",\n  \"origin\": \"Dallas, TX\",\n  \"destination\": \"Atlanta, GA\"\n}"
				},
				"url": {
					"raw": "{{base_url}}/api/loads/search",
					"host": ["{{base_url}}"],
					"path": ["api", "loads", "search"]
				}
			}
		},
		{
			"name": "Evaluate Pricing - Accept",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Authorization",
						"value": "Bearer {{api_key}}",
						"type": "text"
					},
					{
						"key": "Content-Type",
						"value": "application/json",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"mc_number\": \"123456\",\n  \"load_id\": \"LD-1023\",\n  \"listed_rate\": 2200,\n  \"counter_rate\": 2300,\n  \"round\": 1\n}"
				},
				"url": {
					"raw": "{{base_url}}/api/pricing/evaluate",
					"host": ["{{base_url}}"],
					"path": ["api", "pricing", "evaluate"]
				}
			}
		},
		{
			"name": "Evaluate Pricing - Counter",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Authorization",
						"value": "Bearer {{api_key}}",
						"type": "text"
					},
					{
						"key": "Content-Type",
						"value": "application/json",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"mc_number\": \"123456\",\n  \"load_id\": \"LD-1023\",\n  \"listed_rate\": 2200,\n  \"counter_rate\": 2800,\n  \"round\": 1\n}"
				},
				"url": {
					"raw": "{{base_url}}/api/pricing/evaluate",
					"host": ["{{base_url}}"],
					"path": ["api", "pricing", "evaluate"]
				}
			}
		},
		{
			"name": "Ingest Call - Deal Accepted",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Authorization",
						"value": "Bearer {{api_key}}",
						"type": "text"
					},
					{
						"key": "Content-Type",
						"value": "application/json",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"call_id\": \"call_001\",\n  \"started_at\": \"2025-12-15T10:00:00Z\",\n  \"transcript\": \"Agent: Hello, thank you for calling. Can I get your MC number? Carrier: Yes, it's 123456. Agent: Thank you. Let me verify that for you... Verified! I have a load from Dallas, TX to Atlanta, GA. The listed rate is $2,200. Are you interested? Carrier: Yes, but can we do $2,300? Agent: That works for us. Deal accepted!\",\n  \"outcome\": \"deal_accepted\",\n  \"sentiment\": \"positive\",\n  \"extracted\": {\n    \"mc_number\": \"123456\",\n    \"load_id\": \"LD-1023\",\n    \"initial_rate\": 2200,\n    \"agreed_rate\": 2300,\n    \"negotiation_rounds\": 1\n  }\n}"
				},
				"url": {
					"raw": "{{base_url}}/api/calls/ingest",
					"host": ["{{base_url}}"],
					"path": ["api", "calls", "ingest"]
				}
			}
		},
		{
			"name": "Ingest Call - Carrier Ineligible",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Authorization",
						"value": "Bearer {{api_key}}",
						"type": "text"
					},
					{
						"key": "Content-Type",
						"value": "application/json",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"call_id\": \"call_002\",\n  \"started_at\": \"2025-12-15T11:00:00Z\",\n  \"transcript\": \"Agent: Hello, thank you for calling. Can I get your MC number? Carrier: 789012. Agent: I'm sorry, but your MC number is not eligible. Thank you for calling.\",\n  \"outcome\": \"carrier_ineligible\",\n  \"sentiment\": \"neutral\",\n  \"extracted\": {\n    \"mc_number\": \"789012\",\n    \"load_id\": null,\n    \"initial_rate\": null,\n    \"agreed_rate\": null,\n    \"negotiation_rounds\": 0\n  }\n}"
				},
				"url": {
					"raw": "{{base_url}}/api/calls/ingest",
					"host": ["{{base_url}}"],
					"path": ["api", "calls", "ingest"]
				}
			}
		},
		{
			"name": "Ingest Call - Transfer to Rep",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Authorization",
						"value": "Bearer {{api_key}}",
						"type": "text"
					},
					{
						"key": "Content-Type",
						"value": "application/json",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"call_id\": \"call_003\",\n  \"started_at\": \"2025-12-15T12:00:00Z\",\n  \"transcript\": \"Agent: Hello, thank you for calling. Can I get your MC number? Carrier: 456789. Agent: Verified! I have a load available. After 3 rounds of negotiation, let me transfer you to a sales representative who can help you further.\",\n  \"outcome\": \"transfer_to_rep\",\n  \"sentiment\": \"neutral\",\n  \"extracted\": {\n    \"mc_number\": \"456789\",\n    \"load_id\": \"LD-1024\",\n    \"initial_rate\": 3500,\n    \"agreed_rate\": null,\n    \"negotiation_rounds\": 3\n  }\n}"
				},
				"url": {
					"raw": "{{base_url}}/api/calls/ingest",
					"host": ["{{base_url}}"],
					"path": ["api", "calls", "ingest"]
				}
			}
		},
		{
			"name": "List Calls - All",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{base_url}}/api/calls/list",
					"host": ["{{base_url}}"],
					"path": ["api", "calls", "list"]
				}
			}
		},
		{
			"name": "List Calls - Filtered by Outcome",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{base_url}}/api/calls/list?outcome=deal_accepted",
					"host": ["{{base_url}}"],
					"path": ["api", "calls", "list"],
					"query": [
						{
							"key": "outcome",
							"value": "deal_accepted"
						}
					]
				}
			}
		},
		{
			"name": "List Calls - Filtered by Sentiment",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{base_url}}/api/calls/list?sentiment=positive",
					"host": ["{{base_url}}"],
					"path": ["api", "calls", "list"],
					"query": [
						{
							"key": "sentiment",
							"value": "positive"
						}
					]
				}
			}
		},
		{
			"name": "Get Call by ID",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{base_url}}/api/calls/call_001",
					"host": ["{{base_url}}"],
					"path": ["api", "calls", "call_001"]
				}
			}
		}
	],
	"variable": [
		{
			"key": "base_url",
			"value": "http://localhost:3000",
			"type": "string"
		},
		{
			"key": "api_key",
			"value": "your-secret-api-key-here",
			"type": "string"
		}
	]
}

